sudo: false

branches:
  only: deploy

language: node_js

install:
  - git submodule -q update --init
  - npm install

script:
  - set -e
  - npm run tslint
  - npm test
  - node ./scripts/prebuild

os:
  - osx
    osx_image: xcode9.3
  - linux

node_js:
  - "10"
